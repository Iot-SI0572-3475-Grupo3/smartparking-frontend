<!-- History Table Component SmartParking -->
<div class="bg-background-primary rounded-xl shadow-md p-6">
  
  <!-- Tabla de historial -->
  <div class="overflow-x-auto">
    <table class="w-full">
      
      <!-- Header de la tabla -->
      <thead>
        <tr class="border-b border-gray-200">
          <th class="text-left py-3 px-4 text-text-primary font-bold text-sm">
            Espacio
          </th>
          <th class="text-left py-3 px-4 text-text-primary font-bold text-sm">
            Fecha
          </th>
          <th class="text-left py-3 px-4 text-text-primary font-bold text-sm">
            Inicio
          </th>
          <th class="text-left py-3 px-4 text-text-primary font-bold text-sm">
            Fin
          </th>
        </tr>
      </thead>

      <!-- Cuerpo de la tabla -->
      <tbody>
        @for (record of displayRecords; track record.id) {
          <tr 
            class="border-b border-gray-200 hover:bg-background-secondary transition-colors duration-200 cursor-pointer"
            (click)="onRecordClick(record)"
          >
            <td class="py-3 px-4 text-text-primary text-sm">
              {{ record.space }}
            </td>
            <td class="py-3 px-4 text-text-primary text-sm">
              {{ record.date }}
            </td>
            <td class="py-3 px-4 text-text-primary text-sm">
              {{ record.startTime }}
            </td>
            <td class="py-3 px-4 text-text-primary text-sm">
              {{ record.endTime }}
            </td>
          </tr>
        }
      </tbody>

    </table>
  </div>

  <!-- Enlace "Ver historial completo" -->
  @if (showViewAllLink) {
    <div class="mt-6 text-center">
      <button
        (click)="onViewAllClick()"
        class="text-button-primary hover:text-button-primary/80 font-medium text-sm transition-colors duration-200"
      >
        Ver historial completo
      </button>
    </div>
  }

</div>