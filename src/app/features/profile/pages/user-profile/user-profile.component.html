<!-- html -->
<div class="min-h-screen bg-background-secondary">
  <div class="max-w-7xl mx-auto px-4 py-3 flex flex-col lg:flex-row gap-4 lg:items-start min-h-0">

    <!-- Columna Izquierda: Foto y Estado (sin cambios) -->
    <div class="w-full lg:w-72 bg-white border border-gray-200 rounded-lg flex-shrink-0 lg:self-start">
      <div class="flex flex-col items-center px-6 py-4 gap-4">
        <img class="w-24 h-24 rounded-full shadow-lg"
             src="../../../../../assets/images/photo-profile-icon.png"
             alt="Profile image"/>
        <div class="text-center">
          <h5 class="mb-1 text-lg font-semibold text-text-primary">Editar Perfil</h5>
          <span class="text-xs text-text-secondary">Actualiza tu información personal</span>
        </div>
        <div class="text-center">
          <span class="text-xs text-text-secondary">Estado: </span>
          <span class="text-sm font-medium text-text-primary">Status</span>
        </div>
      </div>
    </div>

    <!-- Columna Derecha: TODO dentro de un mismo cuadro -->
    <div class="flex-1 min-h-0 overflow-auto">
      <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-4 space-y-6">

        <!-- Formulario de Información Personal -->
        <div>
          <form class="space-y-3" (ngSubmit)="onSaveProfile()" action="#">

            <div class="flex flex-col sm:flex-row gap-3 w-full">
              <div class="flex-1">
                <label for="firstName" class="block mb-1 text-xs font-medium text-text-primary">Nombre</label>
                <app-input id="firstName" type="text" placeholder="Nombre" [isDisabled]="!isEditing"></app-input>
              </div>

              <div class="flex-1">
                <label for="lastName" class="block mb-1 text-xs font-medium text-text-primary">Apellido</label>
                <app-input type="text" id="lastName" placeholder="Apellido" [isDisabled]="!isEditing"></app-input>
              </div>
            </div>

            <div class="flex gap-2 justify-end">
              <app-button
                type = "button"
                (click) = "isEditing = true"
              >
                Editar
              </app-button>

              <app-button
                type = "submit"
              >
                Guardar Cambios
              </app-button>
            </div>
          </form>
        </div>

        <!-- Estadísticas -->
        <div>
          <h5 class="text-base font-semibold text-text-primary text-center mb-3">Estadísticas</h5>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-2">

            <div class="p-2 bg-background-secondary border border-gray-200 rounded-lg text-center">
              <p class="text-xs text-text-muted mb-1">Reservas totales</p>
              <h5 class="text-xl font-bold text-text-primary">120</h5>
            </div>

            <div class="p-2 bg-background-secondary border border-gray-200 rounded-lg text-center">
              <p class="text-xs text-text-muted mb-1">Tiempo total</p>
              <h5 class="text-xl font-bold text-text-primary">120 h</h5>
            </div>

            <div class="p-2 bg-background-secondary border border-gray-200 rounded-lg text-center">
              <p class="text-xs text-text-muted mb-1">Canceladas</p>
              <h5 class="text-xl font-bold text-text-primary">5</h5>
            </div>

            <div class="p-2 bg-background-secondary border border-gray-200 rounded-lg text-center">
              <p class="text-xs text-text-muted mb-1">Pendientes</p>
              <h5 class="text-xl font-bold text-text-primary">2</h5>
            </div>

          </div>
        </div>

        <!-- Botón de Notificaciones -->
        <div class="flex justify-end">
          <app-button type="button">Configuración de Notificaciones</app-button>
        </div>

        <!-- Cambiar Contraseña -->
        <div>
          <form class="space-y-3" action="#">
            <h5 class="text-center text-base font-semibold text-text-primary">Cambiar Contraseña</h5>

            <div class="flex flex-col sm:flex-row gap-3 w-full">
              <div class="flex-1">
                <label for="new-password" class="block mb-1 text-xs font-medium text-text-primary">Nueva Contraseña</label>
                <input type="password" name="new-password" id="new-password" placeholder="••••••••"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-button-primary focus:border-transparent transition-all duration-200 text-sm text-text-primary placeholder-text-muted" required/>
              </div>

              <div class="flex-1">
                <label for="new-password-conf" class="block mb-1 text-xs font-medium text-text-primary">Confirmar Nueva Contraseña</label>
                <input type="password" name="new-password-conf" id="new-password-conf" placeholder="••••••••"
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-button-primary focus:border-transparent transition-all duration-200 text-sm text-text-primary placeholder-text-muted" required/>
              </div>
            </div>

            <div class="flex justify-end">
              <app-button>Cambiar Contraseña</app-button>
            </div>
          </form>
        </div>

      </div>
    </div>

  </div>
</div>
